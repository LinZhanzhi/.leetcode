# Digital Root Proof: Mathematical Foundation

Great question! You're right to ask for a clearer step-by-step connection between modular arithmetic and the digital root definition. The key subtlety is **how repeated digit sums relate to congruences modulo 9** and how we use that to get the digital root formula.

Let's carefully **rewrite and expand the proof**, explaining every detail.

## Problem Recap

- For a positive integer $n$ , the **digital root** is obtained by:
  1. Summing all the digits of $n$.
  2. If the sum has more than one digit, sum its digits again.
  3. Repeat until only one digit (0–9) remains.
  
- The claim is:
 $$
  dr(n) = 
  \begin{cases}
  0, & n = 0 \\
  1 + (n - 1) \bmod 9, & n > 0
  \end{cases}
 $$

## Step 1: Express $n$ in decimal form

Write $n$ as:
$$
n = d_k 10^k + d_{k-1} 10^{k-1} + \cdots + d_1 10^1 + d_0 10^0
$$
where each $d_i \in \{0, \ldots, 9\}$are the digits of $n$.

## Step 2: Relate $n\mod9$to sum of digits

Since $10 \equiv 1 \pmod{9}$, for any integer $m$:
$$
10^m \equiv 1^m = 1 \pmod{9}.
$$

Thus,
$$
n \equiv d_k + d_{k-1} + \cdots + d_0 \pmod{9}.
$$

## Step 3: Sum of digits modulo 9 is equal to $n \mod 9$

Define:
$$
S_1 = d_k + d_{k-1} + \cdots + d_0.
$$
Then:
$$
n \equiv S_1 \pmod{9}.
$$

- This means $n$ and $S_1$have the **same remainder when divided by 9**.

## Step 4: Repeat summing digits — invariance mod 9

If $S_1$is more than one digit, repeat the "sum of digits" operation, getting $S_2$by summing digits of $S_1$, and ultimately,
$$
S_m = dr(n),
$$
where $S_m$is a single-digit number — the digital root.

By applying the same logic as before,
$$
S_1 \equiv S_2 \equiv \cdots \equiv S_m \pmod{9}.
$$

Because each sum of digits is just summing the decimal digits (which preserves modulo 9 remainder), the final single-digit number $S_m = dr(n)$satisfies:
$$
dr(n) \equiv n \pmod{9}.
$$

## Step 5: But$\mathbf{dr(n)}$is a single digit — what digits can satisfy$dr(n) \equiv n \mod 9$?

Since$dr(n)$is one digit, it must be in $\{0, 1, ..., 9\}$. Because it has the same remainder mod 9 as $n$, consider possibilities:

- If $n \equiv 0 \pmod{9}$, then:
  - $dr(n) \equiv 0 \pmod{9}$, so $dr(n)$is either 0 or 9.
  - The digital root is by convention **9** and not 0 for nonzero numbers divisible by 9.

- If $n \equiv r \neq 0 \pmod{9}$, then:
  - $dr(n) = r$.

This is why $dr(n)$can be identified as:
$$
dr(n) =
\begin{cases}
9, & \text{if } n \equiv 0 \pmod{9} \text{ and } n > 0, \\
n \mod 9, & \text{otherwise}.
\end{cases}
$$

## Step 6: Expressing the formula as $1 + (n-1) \mod 9$

The piecewise function above can be rewritten as:
$$
dr(n) = 1 + (n-1) \bmod 9,
$$
because:

- If $n \equiv 0 \pmod{9}$:
 $$
  (n-1) \bmod 9 = 8, \quad 1 + 8 = 9 = dr(n).
 $$

- If $n \equiv r \neq 0 \pmod{9}$:
 $$
  (n-1) \bmod 9 = r - 1, \quad 1 + (r-1) = r = dr(n).
 $$

- For $n=0$, define $dr(0) = 0$.

## Step 7: Conclusion — tying all together

- $n \equiv \text{sum\_of\_digits}(n) \pmod{9}$
- Repeating digit sums preserve $\mod 9$remainder.
- The final single-digit digit root $dr(n)$shares the same remainder mod 9 as $n$, but only single digits $1$to $9$can represent this.
- When remainder is 0 (and $n>0$), $dr(n) = 9$.
- This matches the formula:
 $$
  dr(n) =
  \begin{cases}
  0, & n=0 \\
  1 + (n-1) \mod 9, & n > 0
  \end{cases}
 $$

# Summary of the **detailed reasoning**

| Step | Explanation |
|-|-|
| 1 | $n$ expressed as digit sum with powers of 10. |
| 2 | Using $10 \equiv 1 \pmod{9}$, $n \equiv$sum of digits mod 9. |
| 3 | Define $S_1$as sum of digits; $n \equiv S_1 \mod 9$. |
| 4 | Repeated sums $S_2, S_3, ..., S_m$preserve remainder mod 9. |
| 5 | Final digital root $dr(n) = S_m \equiv n \pmod{9}$; digital root is single digit. |
| 6 | $dr(n)$matches $n \mod 9 $except that when remainder is 0, digital root$= 9$. |
| 7 | Expressed compactly as $dr(n) = 1 + (n - 1) \bmod 9$for $n > 0$, $dr(0) = 0$. |

## Example Verification

Let's verify with the example from the problem:

**Example:** `num = 38`

1. **Iterative process:** 38 → 3+8=11 → 1+1=2
2. **Mathematical formula:** `1 + (38-1) % 9 = 1 + 37 % 9 = 1 + 1 = 2`

Both approaches give the same result: **2**

**Example:** `num = 0`

1. **Special case:** Returns 0 directly
2. **Formula:** `dr(0) = 0` (by definition)

The mathematical solution provides an elegant O(1) time complexity solution without any loops or recursion!
